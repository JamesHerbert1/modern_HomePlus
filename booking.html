<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
  <link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet">
  <title>Bookings</title>
    <link rel="icon" href="img/PLUS.jpg">
    <style>
      #map1 { 
        height: 500px;
        width: 100%;
        padding: 10px;
      }
    </style>
</head>
<body>
  <div class="jumbotron text-center" id="jumbotronindex1">
    <div class="row">
      <div class="col-md-12">
        <a href="index.html"><img id="logo" src="img/PLUS.jpg" alt="logo"></a>
        <div class="logotitle">
          <h1>HOME PLUS</h1>
          <p>Affordable solutions for your home</p>
        </div>
        <form> <button class="buttonhead1 btn-group" formaction="service.html" id="buttonheader1"><span>Book A Service Provider</span></button>
        </form>
        <form>
          <button class="buttonhead2 btn-group" formaction="emailus" id="buttonheader2"><span>Email Us</span></button></form>
      </div>
    </div>
  </div>
  <div class="jumbotron text-center" id="jumbomaps">
    <h2><strong>Booking with us has been made simpler, <br>you can now do it from the confort of your chair.</strong></h2>
    <br>
    <br>
  <div class="row">
    <div class="col-md-3" class="try">
      <div class="jumbotron" id="jumbomapsa">
        <h3>Wanjohi Mutonyi Consulting Engineers</h3>
        <p>Sevices offered include: </p>
        <ul>
          <li>Painting</li>
          <li>Plumbing</li>
          <li>Carpentry</li>
        </ul>
        
        <br/>
        <button class="button btn-warning freecall" id="one" type="button" name="button">View Route</button>
      </div>
    </div>
    <div class="col-md-3" class="try">
      <div class="jumbotron" id="jumbomapsa">
        <h3>Mars Mechanical Engineers</h3>
        <p>Sevices offered include: </p>
        <ul>
          <li>Electricity Repairs</li>
          <li>Plumbing</li>
          <li>Carpentry</li>
        </ul>
    
        <br/>

        <button class="button btn-warning freecall" id="two" type="button" name="button">View Route</button>
      </div>
    </div>
    <div class="col-md-3" class="try">
      <div class="jumbotron" id="jumbomapsa">
        <h3>Sith Plumber</h3>
        <p>Sevices offered include: </p>
        <ul>
          <li>Painting</li>
          <li>Plumbing</li>
          <li>Electricity Repairs</li>
        </ul>
        
        <br/>
        <button class="button btn-warning freecall" id="three" type="button" name="button">View Route</button>
      </div>
    </div>
    <div class="col-md-3" class="try">
      <div class="jumbotron" id="jumbomapsa">
        <h3>Resultus Ltd, Nairobi</h3>
        <p>Sevices offered include: </p>
        <ul>
          <li>Painting</li>
          <li>Electricity Repairs</li>
          <li>Carpentry</li>
        </ul>
      
        <br/>
        <button class="button btn-warning freecall" id="four" type="button" name="button">View Route</button>
      </div>
    </div>
  </div>

        <div class = "maprow" id="map1"></div>
  
  </div>
</div>
    <div class="jumbotron" id="jumbo4">
      <div class="container">
        <div class="row text-align-center">
          <div class="col-md-3 w-20">
            <div class="text-center">
              <p><strong>Contacts</strong></p>
            </div>
            <ul>
              <li>+254 7123 456</li>
              <li>Email Us</li>
              <li>Ask A Question</li>
            </ul>
          </div>
          <div class="col-md-3 w-20">
            <p><strong>What We Do</strong></p>
            <ul>
              <li>Concept</li>
              <li>Planning</li>
              <li>Advice Centre</li>
              <li>All Articles</li>
              <li>Service Providers Near Me</li>
            </ul>
          </div>
          <div class="col-md-3 w-20">
            <p><strong>Account</strong></p>
            <ul>
              <li>Login</li>
              <li>Sign Up</li>
              <li>Billing</li>
            </ul>
          </div>
          <div class="col-md-3 w-20">
            <p><strong>About Us</strong></p>
            <ul>
              <li>Areas Covered</li>
              <li>Learn More About HomePlus</li>
              <li>FAQs</li>
              <li>Pricing</li>
              <li>Homepage</li>
              <li>Terms Of Use</li>
            </ul>
          </div>
        </div>
        <div class="text-center">
          <h3>Follow Us</h3>
          <!-- Add font awesome icons -->
          <a href="#" class="fa fa-facebook"></a>
          <a href="#" class="fa fa-twitter"></a>
          <a href="#" class="fa fa-youtube"></a>
          <a href="#" class="fa fa-instagram"></a>
          <a href="#" class="fa fa-snapchat-ghost"></a>
          <a href="#" class="fa fa-skype"></a><br> 2018 Home Plus LTD
        </div>
  </div>
</div>
 <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="js/jquery-3.3.1.js"></script>
<script src="js/scripts.js"></script>
<script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
crossorigin=""></script>
<script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

<script>
var ctlRouting;
var mymap;
var waypoints;
var data;
$('document').ready(function(){
  $('.maprow').hide();

      mymap = L.map('map1').setView([-1.13,36.68], 8);
      L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(mymap);
        
    $('.freecall').click(function(){
      if(ctlRouting){
        mymap.remove(ctlRouting);
      }
      $('.maprow').show();
      var id = $(this).attr('id')
      var companies = [
        {
          id:'one',
          name:'Wanjohi Consulting Engineers ',
          latlng: [-1.29985,36.7762]
        },
        {
          id:'two',
          name:'Mars Mechanical Engineering',
          latlng: [-1.3029, 36.8265]
        },
        {
          id:'three',
          name:'Sith Plumbers',
          latlng: [-1.3131,36.7774]
        },
        {
          id:'four',
          name:'Resultus Ltd, Nairobi',
          latlng: [-1.2895,36.8047]
        }
      ]

      for(var i=0; i<companies.length; i++){
        if(companies[i].id === id){
          data = companies[i]
        }
      }

      console.log(data)
      
      var marker = L.marker([-1.13,36.68]).addTo(mymap).bindPopup(data.name).openPopup();
      mymap.on('locationfound', function(e){
        L.marker(e.latlng).addTo(mymap);
    
          waypoints = [
            L.latLng(-1.13,36.43),
            L.latLng(-1.14,36.53),
          ]
        ctlRouting = L.Routing.control({waypoints,
              router: L.Routing.mapbox('pk.eyJ1IjoiZGVyeSIsImEiOiJjaWY5anJyN3YwMDI5dGNseHoyZzM4Z3R4In0.dToOXYIZ30LH_7VtFbKW4A')}).addTo(mymap);
    
      });
      mymap.on('locationerror', function(e){
          alert('please turn on your location!')
          })

      mymap.locate()
     
      
    })
  });


</script>
</body>
</html>
